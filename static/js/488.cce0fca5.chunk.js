"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[488],{548:function(e,t,r){r.d(t,{Mc:function(){return i},Vu:function(){return o},ZN:function(){return p},wH:function(){return h},y:function(){return f}});var n=r(861),a=r(757),c=r.n(a),u=r(294),s="5cf59ee4e900eea5cdca6ff85cfcf632",o=function(){var e=(0,n.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(s));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(s));case 2:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(s));case 2:return r=e.sent,console.log(r.data.cast),e.abrupt("return",r.data.cast);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&page=").concat(r,"&api_key=").concat(s));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(s));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},155:function(e,t,r){r.d(t,{Z:function(){return s}});var n={item:"MoviesList_item__eePYv"},a=r(689),c=r(87),u=r(184),s=function(e){var t=e.movies,r=(0,a.TH)(),s=t.map((function(e){var t=e.id,a=e.title;return(0,u.jsx)("li",{className:n.item,children:(0,u.jsx)(c.rU,{to:"/movies/".concat(t),state:{from:r},children:a})},t)}));return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("ul",{className:n.list,children:s})})}},488:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(433),a=r(861),c=r(439),u=r(757),s=r.n(u),o="MoviesSearch_error__Ytd45",i="MoviesSearch_loadMoreWrapper__aqxJA",f=r(791),p=r(87),h=r(683),l="MoviesSearchForm_form__9RaEu",v="MoviesSearchForm_fieldGroup__DshIU",d="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",m=r(184),x=function(e){var t=e.onSubmit,r=(0,f.useState)({search:""}),n=(0,c.Z)(r,2),a=n[0],u=n[1],s=(0,f.useRef)(null);(0,f.useEffect)((function(){s.current.focus()}),[]);var o=function(){u({search:""})},i=(0,f.useMemo)((function(){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",r=crypto.getRandomValues(new Uint8Array(e));e--;)t+=d[63&r[e]];return t}()}),[]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t((0,h.Z)({},a)),o()},className:l,children:[(0,m.jsx)("div",{className:v,children:(0,m.jsx)("input",{id:i,ref:s,value:a.search,onChange:function(e){u({search:e.currentTarget.value.toLowerCase()})},required:!0,type:"text",name:"search",placeholder:"Enter search phrase"})}),(0,m.jsx)("button",{type:"submit",children:"Search"})]})})},g=r(155),_=r(548),b="ButtonLoadMore_btn__0eMwt",Z=function(e){var t=e.onClick,r=e.type,n=void 0===r?"submit":r,a=e.children;return(0,m.jsx)("button",{onClick:t,type:n,className:b,children:a})},w=function(){var e=(0,f.useState)([]),t=(0,c.Z)(e,2),r=t[0],u=t[1],h=(0,f.useState)(!1),l=(0,c.Z)(h,2),v=l[0],d=l[1],b=(0,f.useState)(null),w=(0,c.Z)(b,2),y=w[0],j=w[1],k=(0,p.lr)(),S=(0,c.Z)(k,2),M=S[0],N=S[1],C=M.get("search"),F=M.get("page");(0,f.useEffect)((function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,(0,_.ZN)(C,F);case 4:t=e.sent,u((function(e){return null!==t&&void 0!==t&&t.length?[].concat((0,n.Z)(e),(0,n.Z)(t)):e})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j(e.t0);case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();C&&e()}),[C,F]);var L=Boolean(r.length);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x,{onSubmit:function(e){var t=e.search;N({search:t,page:1}),u([])}}),y&&(0,m.jsx)("p",{className:o,children:y}),v&&(0,m.jsx)("p",{children:"...Loading"}),L&&(0,m.jsx)(g.Z,{movies:r}),L&&(0,m.jsx)("div",{className:i,children:(0,m.jsx)(Z,{onClick:function(){return N({search:C,page:Number(F)+1})},type:"button",children:"Load more"})})]})},y=function(){return(0,m.jsx)("div",{children:(0,m.jsx)(w,{})})}}}]);
//# sourceMappingURL=488.cce0fca5.chunk.js.map
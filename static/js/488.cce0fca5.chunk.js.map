{"version":3,"file":"static/js/488.cce0fca5.chunk.js","mappings":"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","sources":["api.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesSearch/MoviesSearch.module.css?9702","webpack://goit-react-hw-05-movies/./src/components/MoviesSearch/MoviesSearchForm/MoviesSearchForm.module.css?1d5f","../node_modules/nanoid/url-alphabet/index.js","components/MoviesSearch/MoviesSearchForm/MoviesSearchForm.jsx","../node_modules/nanoid/index.browser.js","webpack://goit-react-hw-05-movies/./src/components/ButtonLoadMore/ButtonLoadMore.module.css?65fe","components/ButtonLoadMore/ButtonLoadMore.jsx","components/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '5cf59ee4e900eea5cdca6ff85cfcf632';\n\nexport const FetchTrendingMovies = async () => {\n    const data = await axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`); \n    //console.log(data.data.results);\n    return data.data.results; \n}\n\nexport const fetchMovieById = async (movie_id) => {\n    const data = await axios.get(`https://api.themoviedb.org/3/movie/${movie_id}?api_key=${API_KEY}`)\n    console.log(data.data);\n    return data.data;\n}\n\nexport const fetchCast = async (movie_id) => {\n    const data = await axios.get(`https://api.themoviedb.org/3/movie/${movie_id}/credits?api_key=${API_KEY}`);\n    console.log(data.data.cast);\n    return data.data.cast;\n}\n\nexport const fetchFilmsBySearch = async (search, page) => {\n    const data = await axios.get(`https://api.themoviedb.org/3/search/movie?query=${search}&page=${page}&api_key=${API_KEY}`);\n    //console.log(data.data.results);\n    return data.data.results;\n}\n\nexport const fetchReviewsById = async (movie_id) => {\n    const data = await axios.get(`https://api.themoviedb.org/3/movie/${movie_id}/reviews?api_key=${API_KEY}`);\n    //console.log(data.data.results)\n    return data.data.results;\n}\n\n// export async function fetchTrending() {\n//     const res = await fetch(\n//       `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n//     );\n//     const info = await res.json();\n//     console.log(info);\n//     return info;\n//   }\n\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MoviesList_item__eePYv\"};","import css from './MoviesList.module.css';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst MoviesList = ({movies}) => {\n  const location = useLocation();\n\n    const elements = movies.map(({id, title}) => \n    (\n        <li key={id} className={css.item}>\n          <Link to={`/movies/${id}`} state={{from: location}} >{title}</Link>\n        </li> \n    )\n    )\n\n    return (\n     <>\n      <ul className={css.list}>\n                {elements}\n      </ul>\n     </>\n    )\n}\n\nexport default MoviesList;","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"MoviesSearch_error__Ytd45\",\"loadMoreWrapper\":\"MoviesSearch_loadMoreWrapper__aqxJA\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesSearchForm_form__9RaEu\",\"fieldGroup\":\"MoviesSearchForm_fieldGroup__DshIU\"};","export const urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\n","import css from './MoviesSearchForm.module.css';\nimport { useState, useEffect, useRef, useMemo } from 'react';\nimport {nanoid} from 'nanoid';\n\n\nconst MoviesSearchForm = ({onSubmit}) => {\n    const [state, setState] = useState({\n        search: \"\",\n    });\n\n\n    const inputRef = useRef(null);\n\n    useEffect(() => {\n        inputRef.current.focus();\n    }, [])\n\n    const handleChange = event => {\n        setState({search: event.currentTarget.value.toLowerCase()})\n       };\n\n    const handleSubmit = (e) => {\n       e.preventDefault();\n       onSubmit({...state});\n       reset();\n    }\n\n    const reset = () => {\n        setState({\n            search: \"\"\n        });\n    }\n\n    const searchId = useMemo(() => nanoid(), [])\n\n    return (\n        <>\n        <form onSubmit={handleSubmit} className={css.form}>\n            <div className={css.fieldGroup}>\n                <input id={searchId} ref={inputRef} value={state.search} onChange={handleChange} required type=\"text\" name=\"search\" placeholder=\"Enter search phrase\" />\n            </div>\n            <button type=\"submit\">Search</button>\n        </form>\n        </>\n    )\n}\n\nexport default MoviesSearchForm;\n\n","import { urlAlphabet } from './url-alphabet/index.js'\nexport { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n  while (size--) {\n    id += urlAlphabet[bytes[size] & 63]\n  }\n  return id\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"ButtonLoadMore_btn__0eMwt\"};","import css from '../ButtonLoadMore/ButtonLoadMore.module.css';\n\nconst ButtonLoadMore = ({ onClick, type = \"submit\", children }) => {\n    return <button onClick={onClick} type={type} className={css.btn}>{children}</button>\n}\n\nexport default ButtonLoadMore;","import css from '../MoviesSearch/MoviesSearch.module.css';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport MoviesSearchForm from './MoviesSearchForm/MoviesSearchForm';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport { fetchFilmsBySearch } from 'api';\nimport ButtonLoadMore from 'components/ButtonLoadMore/ButtonLoadMore';\n\n\nconst MoviesSearch = () => {\n    const [movies, setMovies] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const search = searchParams.get('search');\n    const page = searchParams.get('page');\n\n    useEffect(() => {\n        const fetchFilmRequest = async () => {\n            try {\n                setLoading(true);\n                const data = await fetchFilmsBySearch(search, page);\n                setMovies(prevFilms => data?.length ? [...prevFilms, ...data] : prevFilms);\n            } catch(error) {\n                setError(error)\n            } finally{\n                setLoading(false);\n            }       \n        }\n        \n        if(search) {\n            fetchFilmRequest();\n        }\n\n    }, [search, page]);\n\n    const handleSearch = ({ search }) => {\n        setSearchParams({search, page: 1});\n        setMovies([]);\n    }\n\n    const loadMore = () => setSearchParams({search, page: Number(page) + 1});\n\n    const isFilms = Boolean(movies.length);\n\n    return (\n        <>\n          <MoviesSearchForm onSubmit={handleSearch} />\n          {error && <p className={css.error}>{error}</p>}\n          {loading && <p>...Loading</p>}\n          {isFilms && <MoviesList movies={movies} />}\n          {isFilms && \n            <div className={css.loadMoreWrapper}>\n                <ButtonLoadMore onClick={loadMore} type=\"button\">Load more</ButtonLoadMore>\n            </div>}\n        </>\n    )\n}\n\nexport default MoviesSearch;","import MoviesSearch from 'components/MoviesSearch/MoviesSearch';\n//import css from './MoviesPage.module.css';\n\nconst MoviesPage = () => {\n    return (\n        <div>\n         <MoviesSearch />\n        </div>\n    )\n}\n\nexport default MoviesPage;"],"names":["API_KEY","FetchTrendingMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","axios","concat","sent","abrupt","results","stop","apply","arguments","fetchMovieById","_ref2","_callee2","movie_id","_context2","console","log","_x","fetchCast","_ref3","_callee3","_context3","cast","_x2","fetchFilmsBySearch","_ref4","_callee4","search","page","_context4","_x3","_x4","fetchReviewsById","_ref5","_callee5","_context5","_x5","movies","location","useLocation","elements","map","id","title","_jsx","className","css","children","Link","to","state","from","_Fragment","urlAlphabet","onSubmit","_useState","useState","_useState2","_slicedToArray","setState","inputRef","useRef","useEffect","current","focus","reset","searchId","useMemo","size","length","undefined","bytes","crypto","getRandomValues","Uint8Array","nanoid","_jsxs","e","preventDefault","_objectSpread","ref","value","onChange","event","currentTarget","toLowerCase","required","type","name","placeholder","onClick","_ref$type","setMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","get","fetchFilmRequest","prevFilms","_toConsumableArray","t0","finish","isFilms","Boolean","MoviesSearchForm","MoviesList","ButtonLoadMore","Number","MoviesSearch"],"sourceRoot":""}